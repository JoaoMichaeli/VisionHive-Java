<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title th:text="${branch.nome} + ' - Detalhes da Base'">Base Detalhes - Vision Hive</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body { font-family: 'Inter', sans-serif; }

        .mottu-green { color: #00FF88; }
        .mottu-green-bg { background-color: #00FF88; }

        .floating-icon {
            position: absolute;
            opacity: 0.1;
            animation: float 6s ease-in-out infinite;
            pointer-events: none;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
        }

        .glass-card {
            background: rgba(17, 17, 17, 0.8);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(0, 255, 136, 0.2);
        }

        .status-indicator {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #00FF88;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .hover-glow:hover {
            box-shadow: 0 0 20px rgba(0, 255, 136, 0.3);
            transform: translateY(-2px);
        }

        .neon-glow {
            box-shadow: 0 0 5px #00FF88, 0 0 10px #00FF88, 0 0 15px #00FF88;
        }

        .pulse-ring {
            animation: pulse-ring 2s cubic-bezier(0.455, 0.03, 0.515, 0.955) infinite;
        }

        @keyframes pulse-ring {
            0% { transform: scale(0.8); opacity: 1; }
            100% { transform: scale(2.4); opacity: 0; }
        }

        .urban-bg {
            background:
                    radial-gradient(circle at 20% 80%, rgba(0, 255, 136, 0.1) 0%, transparent 50%),
                    radial-gradient(circle at 80% 20%, rgba(0, 255, 136, 0.05) 0%, transparent 50%),
                    linear-gradient(135deg, #000000 0%, #111111 100%);
        }
    </style>
</head>
<body class="urban-bg font-sans min-h-screen flex flex-col relative overflow-x-hidden">

<div class="floating-icon top-20 left-10 text-6xl">
    <i class="fas fa-motorcycle mottu-green"></i>
</div>
<div class="floating-icon top-40 right-20 text-4xl" style="animation-delay: -2s;">
    <i class="fas fa-wifi mottu-green"></i>
</div>
<div class="floating-icon bottom-40 left-20 text-5xl" style="animation-delay: -4s;">
    <i class="fas fa-satellite-dish mottu-green"></i>
</div>
<div class="floating-icon bottom-20 right-10 text-4xl" style="animation-delay: -1s;">
    <i class="fas fa-microchip mottu-green"></i>
</div>
<div class="floating-icon top-60 left-1/2 text-3xl" style="animation-delay: -3s;">
    <i class="fas fa-broadcast-tower mottu-green"></i>
</div>
<div class="floating-icon top-32 right-1/3 text-2xl" style="animation-delay: -5s;">
    <i class="fas fa-network-wired mottu-green"></i>
</div>
<div class="floating-icon bottom-60 right-1/4 text-3xl" style="animation-delay: -1.5s;">
    <i class="fas fa-server mottu-green"></i>
</div>

<div th:replace="~{fragments/header :: header}"></div>

<main class="flex-1 p-6 relative z-10">
    <div class="glass-card rounded-2xl shadow-2xl p-8 w-full max-w-4xl mx-auto hover-glow transition-all duration-300">

        <div class="text-center mb-8">
            <div class="flex items-center justify-center gap-3 mb-4">
                <div class="relative">
                    <i class="fas fa-building mottu-green text-3xl"></i>
                    <div class="absolute -top-1 -right-1 w-3 h-3 bg-green-500 rounded-full pulse-ring"></div>
                </div>
                <h2 th:text="${branch.nome}" class="text-4xl text-white font-bold">
                    Nome da Base
                </h2>
                <div class="flex items-center gap-2 px-3 py-1 bg-green-500/20 rounded-full border border-green-500/30">
                    <div class="status-indicator"></div>
                    <span class="mottu-green text-sm font-medium">ONLINE</span>
                </div>
            </div>
            <p class="mottu-green text-sm font-medium mb-2">BASE IoT CONECTADA</p>
            <p class="text-gray-400 text-xs">Sincronização em tempo real</p>
        </div>

        <div class="w-full h-48 bg-gray-900 flex flex-col justify-center items-center text-gray-400 font-bold text-lg rounded-xl mb-6 border border-gray-800 relative overflow-hidden">
            <i class="fas fa-camera mottu-green text-4xl mb-2"></i>
            <span>Foto da Base</span>
            <div class="absolute inset-0 bg-gradient-to-r from-transparent via-green-500/5 to-transparent animate-pulse"></div>
            <div class="absolute top-2 right-2 flex items-center gap-1 text-xs">
                <i class="fas fa-wifi mottu-green"></i>
                <span class="mottu-green">IoT</span>
            </div>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-8">
            <div class="glass-card rounded-xl p-4 hover-glow transition-all duration-300">
                <div class="flex items-center gap-3">
                    <i class="fas fa-map-marker-alt mottu-green text-xl"></i>
                    <div>
                        <p class="text-gray-400 text-sm">Localização</p>
                        <p class="text-white font-semibold" th:text="${branch.bairro}">Bairro</p>
                    </div>
                </div>
            </div>
            <div class="glass-card rounded-xl p-4 hover-glow transition-all duration-300">
                <div class="flex items-center gap-3">
                    <i class="fas fa-id-card mottu-green text-xl"></i>
                    <div>
                        <p class="text-gray-400 text-sm">CNPJ</p>
                        <p class="text-white font-semibold" th:text="${branch.cnpj}">00.000.000/0001-00</p>
                    </div>
                </div>
            </div>
            <div class="glass-card rounded-xl p-4 hover-glow transition-all duration-300">
                <div class="flex items-center gap-3">
                    <i class="fas fa-satellite-dish mottu-green text-xl"></i>
                    <div>
                        <p class="text-gray-400 text-sm">Status IoT</p>
                        <p class="mottu-green font-semibold">Conectado</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="mb-8">
            <div class="flex items-center gap-3 mb-6">
                <i class="fas fa-warehouse mottu-green text-2xl"></i>
                <h3 class="text-2xl text-white font-semibold">Pátios Conectados</h3>
                <div class="flex items-center gap-2 px-3 py-1 bg-green-500/10 rounded-full">
                    <span class="mottu-green text-sm" th:text="${#lists.size(patios)} + ' ATIVAS'">0 ATIVAS</span>
                </div>
                <div class="flex-1 h-px bg-gradient-to-r from-green-500/50 to-transparent"></div>
            </div>

            <div class="grid gap-4">
                <div th:each="patio : ${patios}" class="glass-card rounded-xl p-6 hover-glow transition-all duration-300">
                    <div class="flex items-center justify-between mb-4">
                        <div class="flex items-center gap-3">
                            <div class="relative">
                                <i class="fas fa-parking mottu-green text-xl"></i>
                                <div class="absolute -top-1 -right-1 w-2 h-2 bg-green-500 rounded-full"></div>
                            </div>
                            <div>
                                <a th:href="@{'/patio/' + ${patio.id}}"
                                   th:text="${patio.nome}"
                                   class="text-white font-semibold hover:text-green-400 transition text-lg">
                                    Nome do Pátio
                                </a>
                                <div class="flex items-center gap-2 mt-1">
                                    <div class="status-indicator"></div>
                                    <span class="mottu-green text-sm font-medium">Online</span>
                                    <span class="text-gray-500 text-xs">• Última sync: agora</span>
                                </div>
                            </div>
                        </div>
                        <div class="flex items-center gap-4">
                            <div class="text-center">
                                <p class="text-white font-bold text-lg">98%</p>
                                <p class="text-gray-400 text-xs">Uptime</p>
                            </div>
                            <div class="flex items-center gap-2 px-3 py-1 bg-green-500/20 rounded-full">
                                <i class="fas fa-microchip mottu-green text-sm"></i>
                                <span class="mottu-green text-sm font-medium">IoT</span>
                            </div>
                        </div>
                    </div>

                    <div class="w-full h-32 bg-gray-900 flex flex-col justify-center items-center text-gray-500 text-sm rounded-lg border border-gray-800 relative overflow-hidden">
                        <i class="fas fa-image mottu-green text-2xl mb-1"></i>
                        <span>Foto do Pátio</span>
                        <div class="absolute inset-0 bg-gradient-to-r from-transparent via-green-500/5 to-transparent animate-pulse"></div>
                        <div class="absolute top-2 left-2 flex items-center gap-1 text-xs">
                            <i class="fas fa-wifi mottu-green"></i>
                            <span class="mottu-green">Conectado</span>
                        </div>
                        <div class="absolute bottom-2 right-2 flex items-center gap-1 text-xs">
                            <i class="fas fa-signal mottu-green"></i>
                            <span class="mottu-green">5.2ms</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="flex flex-col sm:flex-row gap-4">
            <a th:href="@{/patio/form(branchId=${branch.id})}"
               class="flex-1 mottu-green-bg hover:bg-green-400 text-black font-bold py-4 rounded-xl shadow-lg hover:shadow-green-500/30 transition-all duration-300 text-center flex items-center justify-center gap-3 neon-glow">
                <i class="fas fa-plus"></i>
                Conectar Novo Pátio IoT
            </a>
            <a th:href="@{/}"
               class="flex-1 bg-gray-800 hover:bg-gray-700 text-white font-semibold py-4 rounded-xl shadow-lg transition-all duration-300 text-center flex items-center justify-center gap-3 border border-gray-700 hover:border-green-500/50">
                <i class="fas fa-arrow-left"></i>
                Voltar ao Dashboard
            </a>
        </div>
    </div>
</main>

<div th:replace="~{fragments/footer :: footer}"></div>

</body>
</html>
